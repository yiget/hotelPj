document.onselectstart=function(){var obj=window.event.srcElement;if(obj.type!="text"&&obj.type!="textarea"&&obj.type!="password"&&obj.type!="file"){return false;}};function truncateDate(date){return new Date(Math.floor(date.getTime()/(1000*60*60*24))*(1000*60*60*24));}
function pad(num,n){var len=num.toString().length;while(len<n){num="0"+num;len++;}
return num;}
var g_followmark_trigger=null;var g_followmark_step_ratio=0.1;var g_followmark_objs=new Array();var g_followmark_objs_x=new Array();var g_followmark_objs_y=new Array();var g_followmark_objs_id=new Array();function addfollowmark(name,x,y){var i=g_followmark_objs.length;g_followmark_objs[i]=document.getElementById(name);g_followmark_objs_x[i]=x;g_followmark_objs_y[i]=y;g_followmark_objs_id[i]=name;$j(window).unload(function(){g_followmark_objs.clear();g_followmark_objs=null;});if(g_followmark_trigger==null){g_followmark_trigger=setInterval('followmark()',30);}}
function deletefollowmark(name){var bRemoveAll=true;for(var i=0;i<g_followmark_objs.length;i++){if(g_followmark_objs_id[i]==name){g_followmark_objs[i]=null;}
if(g_followmark_objs[i]!=null){bRemoveAll=false;}}
if(bRemoveAll){clearInterval(g_followmark_trigger);}}
function followmark(){for(var i=0;i<g_followmark_objs.length;i++){var fm=g_followmark_objs[i];if(fm==null){return;}
var fm_x=typeof(g_followmark_objs_x[i])=='string'?eval(g_followmark_objs_x[i]):g_followmark_objs_x[i];var fm_y=typeof(g_followmark_objs_y[i])=='string'?eval(g_followmark_objs_y[i]):g_followmark_objs_y[i];if(fm.offsetTop==0){clearInterval(g_followmark_trigger);}
var diffY;if(document.documentElement&&document.documentElement.scrollTop){diffY=document.documentElement.scrollTop;}
else if(document.body){diffY=document.body.scrollTop;}
if(fm.offsetLeft!=document.body.scrollLeft+fm_x){var dx=(document.body.scrollLeft+fm_x-fm.offsetLeft)*g_followmark_step_ratio;dx=(dx>0?1:-1)*Math.ceil(Math.abs(dx));fm.style.left=(fm.offsetLeft+dx)+"px";}
if(fm.offsetTop!=diffY+fm_y){var dy=(diffY+fm_y-fm.offsetTop)*g_followmark_step_ratio;dy=(dy>0?1:-1)*Math.ceil(Math.abs(dy));fm.style.top=(fm.offsetTop+dy)+"px";}}}
function getInnerWidth(){if(self.innerWidth){return'self.innerWidth';}
else if(document.documentElement&&document.documentElement.clientWidth){return'document.documentElement.clientWidth';}
else if(document.body){return'document.body.clientWidth';}
return'';}
function getInnerHeight(){if(self.innerHeight){return'self.innerHeight';}
else if(document.documentElement&&document.documentElement.clientHeight){return'document.documentElement.clientHeight';}
else if(document.body){return'document.body.clientHeight';}
return'';}
function genUUID(){var uuid="";for(var i=0;i<32;i++){uuid+=Math.floor(Math.random()*16).toString(16);}
return uuid;}
var UploadMonitor=Class.create();UploadMonitor.prototype={initialize:function(barId,barTitleId,barContentId,buttonIds,uuid,ratio){this.barId=barId;this.barTitleId=barTitleId;this.barContentId=barContentId;this.buttonIds=buttonIds;this.uuid=uuid;this.interval=null;this.ratio=ratio?ratio:6.0;this.startProgress();},refreshProgress:function(){var params="rand="+Math.random()+"&X-Progress-ID="+this.uuid;new Ajax.Request("/upload/monitor.ydd",{method:"get",parameters:params,evalJSON:"force",onComplete:this.updateProgress.bind(this)});},updateProgress:function(response){var json=response.responseJSON;var length=this.buttonIds.length;if(json.state=="uploading"||json.state=="starting"){for(var i=0;i<length;i++){$(this.buttonIds[i]).disabled=true;}
var progressPercent=Math.ceil((json.received/json.size)*100);if(progressPercent<100){$(this.barTitleId).innerHTML='文件上传中: '+progressPercent+'%';}
else{$(this.barTitleId).innerHTML='文件处理中，请稍候...';}
$(this.barContentId).style.width=parseInt(progressPercent*this.ratio)+'px';}
else{if(json.state=="done"){window.clearTimeout(this.interval);}
for(var j=0;j<length;j++){$(this.buttonIds[j]).disabled=false;}}
return true;},startProgress:function(){$(this.barId).style.display='block';$(this.barTitleId).innerHTML='文件上传中: 0%';var length=this.buttonIds.length;for(var i=0;i<length;i++){$(this.buttonIds[i]).disabled=true;}
this.interval=window.setInterval(this.refreshProgress.bind(this),2500);return true;}};var PlaceList=Class.create();PlaceList.prototype={initialize:function(type,sourceId,targetId,option,callback){this.option=(option)?option:{};this.type=type;this.sourceId=sourceId;this.targetId=targetId;this.pid=this.option.pid;this.aid=this.option.aid;this.callback=callback?callback:null;this.localList();},localList:function(){var sourceObj=$(this.sourceId);var targetObj=$(this.targetId);if(this.pid&&this.pid.trim().length>0){sourceObj.value=this.pid;}
else if(this.aid&&this.aid.trim().length>0){if(this.type=='j'||this.type=='c'){sourceObj.value=this.aid.substring(0,7);}
else if(this.type=='h'){sourceObj.value=this.aid.substring(0,4);}
else if(this.type=='g'){sourceObj.value=this.aid.substring(0,1);}}
var key=$F(this.sourceId);if(key.length>0&&key.indexOf("--")<0){if(this.type=='j'){key="area"+key;}else if(this.type=='c'){key="province"+key;}else if(this.type=='h'){key="abroad"+((this.option.fullList)?"Full":"")+key;}else if(this.type=='g'){key="country"+key;}
var values=locationMap[key];if(targetObj){targetObj.options.length=0;targetObj.disabled=false;}
if(values==null||values.length==0){this.handleEmpty();}
else if(targetObj!=null){var bAllowEmpty=(/allowEmpty/i.test(targetObj.className)&&values.length>0);var specialCase=["1-01-02","1-01-24","1-01-26","1-01-32","1-01-33"];if(specialCase.include(sourceObj.value))bAllowEmpty=false;if(bAllowEmpty){if(this.type=='j'||this.type=='h'){targetObj.options[0]=new Option("--选择景区--","");}
else if(this.type=='c'){targetObj.options[0]=new Option("--选择城市--","");}
else if(this.type=='g'){targetObj.options[0]=new Option("--选择国家--","");}}
for(var i=0;i<values.length;i++){idx=values[i].search(':');var name=values[i].slice(idx+1);var value=values[i].slice(0,idx);if(bAllowEmpty){targetObj.options[i+1]=new Option(name,value);}
else{targetObj.options[i]=new Option(name,value);}}
if(this.aid&&this.aid.trim().length>0){if(this.type=='j'||this.type=='c'){sourceObj.value=this.aid.substring(0,7);if(this.aid.length>7){targetObj.value=this.aid;}}
else if(this.type=='h'){sourceObj.value=this.aid.substring(0,4);if(this.aid.length>4){targetObj.value=this.aid;}}
else if(this.type=='g'){sourceObj.value=this.aid.substring(0,1);if(this.aid.length>1){targetObj.value=this.aid;}}}
else if(this.pid&&this.pid.trim().length>0){sourceObj.value=this.pid;}
if(this.callback){this.callback();}}}else{this.handleEmpty();}},list:function(){if(this.pid&&this.pid.trim().length>0){$(this.sourceId).value=this.pid;}
else if(this.aid&&this.aid.trim().length>0){if(this.type=='j'||this.type=='c'){$(this.sourceId).value=this.aid.substring(0,7);}
else if(this.type=='h'){$(this.sourceId).value=this.aid.substring(0,4);}
else if(this.type=='g'){$(this.sourceId).value=this.aid.substring(0,1);}}
var value=$F(this.sourceId);if(value.length>0&&value.indexOf("--")<0){new Ajax.Request("/area/ajaxAreaList.ydd",{method:'get',parameters:'t='+this.type+'&pid='+value+(this.option.fullList?"&full=true":""),onComplete:this.populateSelect.bind(this)});}else{this.handleEmpty();}},populateSelect:function(response){var xml=response.responseXML;var root=xml.documentElement;$(this.targetId).options.length=0;$(this.targetId).disabled=false;var respNode=root.getElementsByTagName("response")[0];var items=respNode.getElementsByTagName("item");if(items.length==0){this.handleEmpty();}
else{var bAllowEmpty=($(this.targetId).className=="allowEmpty"&&items.length>0);var specialCase=["1-01-02","1-01-24","1-01-26","1-01-32","1-01-33"];if(specialCase.include($(this.sourceId).value))bAllowEmpty=false;if(bAllowEmpty){if(this.type=='j'||this.type=='h'){$(this.targetId).options[0]=new Option("--选择景区--","");}
else if(this.type=='c'){$(this.targetId).options[0]=new Option("--选择城市--","");}
else if(this.type=='g'){$(this.targetId).options[0]=new Option("--选择国家--","");}}
for(var i=0;i<items.length;i++){var name=items[i].getElementsByTagName("name")[0].firstChild.nodeValue;var value=items[i].getElementsByTagName("value")[0].firstChild.nodeValue;if(bAllowEmpty){$(this.targetId).options[i+1]=new Option(name,value);}
else{$(this.targetId).options[i]=new Option(name,value);}}
if(this.aid&&this.aid.trim().length>0){if(this.type=='j'||this.type=='c'){$(this.sourceId).value=this.aid.substring(0,7);if(this.aid.length>7){$(this.targetId).value=this.aid;}}
else if(this.type=='h'){$(this.sourceId).value=this.aid.substring(0,4);if(this.aid.length>4){$(this.targetId).value=this.aid;}}
else if(this.type=='g'){$(this.sourceId).value=this.aid.substring(0,1);if(this.aid.length>1){$(this.targetId).value=this.aid;}}}
else if(this.pid&&this.pid.trim().length>0){$(this.sourceId).value=this.pid;}
if(this.callback){this.callback();}}},handleEmpty:function(){var targetObj=$(this.targetId);if(targetObj){targetObj.options.length=0;if(this.type=='j'||this.type=='h'){targetObj.options[0]=new Option("--选择景区--","");}
else if(this.type=='c'){targetObj.options[0]=new Option("--选择城市--","");}
else if(this.type=='g'){targetObj.options[0]=new Option("--选择国家--","");}
targetObj.disabled=true;targetObj.value="";}
if(this.callback){this.callback();}}}
var PlaceByTypeList=Class.create();PlaceByTypeList.prototype={initialize:function(type,targetId){this.type=type;this.targetId=targetId;this.list();},list:function(){new Ajax.Request("/area/ajaxPlaceListByType.ydd",{method:'get',parameters:'type='+this.type,onComplete:this.populateSelect.bind(this)});},populateSelect:function(response){var xml=response.responseXML;var root=xml.documentElement;$(this.targetId).options.length=0;$(this.targetId).disabled=false;var respNode=root.getElementsByTagName("response")[0];var items=respNode.getElementsByTagName("item");if(items.length==0){this.handleEmpty();}else{for(var i=0;i<items.length;i++){var name=items[i].getElementsByTagName("name")[0].firstChild.nodeValue;var value=items[i].getElementsByTagName("value")[0].firstChild.nodeValue;$(this.targetId).options[i]=new Option(name,value);}}},handleEmpty:function(){$(this.targetId).options.length=0;$(this.targetId).disabled=true;}};var updatePlanURL="/user/updatePlan.ydd";function showPlanUpdate(pid){var sourceId="exetime_"+pid;var targetId="exetime_update_"+pid;var labelId="updateLabel_"+pid;var params="pid="+pid;if($(targetId).innerHTML==""){Element.hide(sourceId);Element.show(targetId);new Ajax.Updater(targetId,updatePlanURL,{method:"get",parameters:params});Element.update(labelId,'取消');}
else{Element.hide(targetId);Element.show(sourceId);Element.update(targetId,"");Element.update(labelId,'修改');}}
function submitPlanUpdate(form){if($F('exetime').trim().length==0){writeErrMsg("exetime","日期还是空的呢!");}
else{if(isValidForm(form)){var pid=form.pid.value;var targetId="exetime_"+pid;var labelId="updateLabel_"+pid;var enterId="exetime_update_"+pid;var params=Form.serialize(form)+"&submit=submit";new Ajax.Updater(targetId,updatePlanURL,{method:"get",parameters:params});try{_gaq.push(['_trackPageview',updatePlanURL]);_hmt.push(['_trackPageview',updatePlanURL]);}catch(ee){}
Element.hide(enterId);Element.show(targetId);Element.update(enterId,"");Element.update(labelId,'修改');}}}
var aliasCheckURL="/user/checkAlias.ydd";function checkAlias(id){var targetId="username-result-box";var idStr=$F(id).trim();if(idStr.length>0){if(idStr.length<2||idStr.length>12){writeErrMsg(id,"呢称必须由2-12个字符组成");$(targetId).innerHTML="";$(targetId).style.display="none";}else if(/^[0-9]{0,7}$/.test(idStr)){writeErrMsg(id,"呢称如果全是数字，至少需要8个数字");$(targetId).innerHTML="";$(targetId).style.display="none";}
else{var regName=/^(\w|[^\x00-\xff])*$/;if(!regName.test(idStr)){writeErrMsg(id,"呢称必须是2-12个字母、数字、下划线及中文的组合");$(targetId).innerHTML="";$(targetId).style.display="none";}
else{InlineValidator.lookup(aliasCheckURL+'?alias=',id,targetId);}}}}
function checkWebname(url,id){var targetId="webname-result-box";var idStr=$F(id).trim();if(idStr.length>0){if(idStr.length<3||idStr.length>15){writeErrMsg(id,"快速通道必须由3-15个字符组成");$(targetId).innerHTML="";$(targetId).style.display="none";}
else{var regWebname=/^\w+$/;if(!regWebname.test(idStr)){writeErrMsg(id,"快速通道必须是3-15个字母、数字及下划线的组合");$(targetId).innerHTML="";$(targetId).style.display="none";}
else{InlineValidator.lookup(url+'?webname=',id,targetId);}}}}
function checkHotelname(url,id){var targetId="hotelname-result-box";var idStr=$F(id).trim();if(idStr.length>0){if(idStr.length<2||idStr.length>30){writeErrMsg(id,"驿站名称必须由2-30个字符组成");$(targetId).innerHTML="";$(targetId).style.display="none";}
else{var regName=/^(\w|[^\x00-\xff])*$/;if(!regName.test(idStr)){writeErrMsg(id,"驿站名称必须是2-30个字母、数字、下划线及中文的组合");$(targetId).innerHTML="";$(targetId).style.display="none";}
else{InlineValidator.lookup(url+'?hotelname=',id,targetId);}}}}
var inviteFriendURL="/user/inviteFriend.ydd";function inviteFriend(){var targetId="inviteResult";var params=Form.serialize("inviteFriendForm");new Ajax.Updater(targetId,inviteFriendURL,{method:"post",parameters:params});try{_gaq.push(['_trackPageview',inviteFriendURL]);_hmt.push(['_trackPageview',inviteFriendURL]);}catch(ee){}}
var shortcutURL="/site/shortcut.ydd";function shortcut(){new Ajax.Request(shortcutURL,{method:"post",noWaitMsg:true,onComplete:_doneShortcut});}
function _doneShortcut(response){var targetId="msg-alert";if(isResponseSuccess(response)){Element.update(targetId,response.responseText.split("=======================")[0]);document.getElementById('ajaxShowUserRemindNum').innerHTML=response.responseText.split("=======================")[1];}}
function _showNewMsg(){var bNarrow=($("top_land_show")!=null);var msgAlertBox=$("msgAlertBox");if(msgAlertBox==null){msgAlertBox=document.createElement("div");msgAlertBox.id="msgAlertBox";msgAlertBox.style.display="none";document.body.appendChild(msgAlertBox);msgAlertBox.innerHTML="<span class='"+(bNarrow?"msgAlertNarrow":"msgAlert")+"'><span class='top'><img src='http://img2.yododo.com/images/icon_email.gif' align='absmiddle'/> 您有新的消息</span><b class='bottom'></b></span>";}
if(bNarrow){msgAlertBox.style.top="12px";msgAlertBox.style.left=$j("#hasNewMsg").position().left+45+"px";}
else{msgAlertBox.style.top="18px";msgAlertBox.style.left=document.body.clientWidth-((document.body.clientWidth-$("wrap").clientWidth)/2)-250+"px";}
msgAlertBox.style.display="block";setTimeout(function(){$("msgAlertBox").style.display="none";},10000);msgAlertBox=null;}
function ajaxCloseShortcut(){$j.ajax({url:'/site/closeShortcut.ydd',type:'POST',timeout:10000,success:function(msg){$j("#ajaxShowUserRemindNum").remove();}});}
var createPostcardURL="/photo/createPostcard.ydd";var postcardWin=null;function createPostcard(id){if(!postcardWin){postcardWin=new Window('postcardWindow',{title:"发送明信片给好友",className:"alphacube",width:570,height:450,zIndex:800,resizable:false,minimizable:false,maximizable:false,showEffectOptions:{duration:0.5}});}else{postcardWin.setSize(570,450,false);}
var params="id="+id+"&r=1";postcardWin.setAjaxContent(createPostcardURL,{method:"get",parameters:params},true,true);}
var sendPostcardURL="/photo/sendPostcard.ydd";function sendPostcard(){var params=Form.serialize("sendPostcardForm");new Ajax.Request(sendPostcardURL,{method:'post',parameters:params,onComplete:_afterSendPostcard});try{_gaq.push(['_trackPageview',sendPostcardURL]);_hmt.push(['_trackPageview',sendPostcardURL]);}catch(e){}}
function _afterSendPostcard(response){Element.update(postcardWin.getContent(),response.responseText);postcardWin.setSize(570,450,false);}
function showPostcardFriends(){$j("#isGroup").val("isGroup");Element.show('friend-list');$('receiverName').disabled=true;$('friendName').disabled=true;postcardWin.setSize(760,450,false);$("message-errMsg").innerHTML="从右边列表选择好友发送明信片，无需输入<br/>收件人名称！";}
function checkPostcardScore(score){if(parseInt(score)<1000){$("message-errMsg").innerHTML="此功能只对1000分以上会员开放，您的<a href='/group/t/5A7400EA0C887B09010C8C2A2C160116' target='_blank' class='more-detail'>积分还不足</a>";return false;}
return true;}
function checkPostcardForm(form){if(isValidForm(form)){sendPostcard();}
return false;}
function changeDivStatusByClass(status,parendid,parentDiv,className){$j("#"+parendid+" div."+parentDiv).find("."+className).each(function(){if(status){$j(this).hide();}
else{$j(this).show();}});}
function changeDivStatusById(divid){$j("#"+divid).toggle();}
function checkBoxByDiv(divid,checkflag){$j("#"+divid+" :input").each(function(){if(checkflag){$j(this).attr("checked",true);}
else{$j(this).attr("checked",false);}});}
function submitAreaRequest(content){new Ajax.Request("/user/sendMessage.ydd",{method:'post',parameters:content,onComplete:_afterSubmitAreaRequest});}
function _afterSubmitAreaRequest(){Element.hide("errMsg-box");Element.show("submit-area-msg");}
function loginCnUserSimple(loginname,loginpassword,unencrypted){loginCnUserSimple2(loginname,loginpassword,unencrypted,false);}
function loginCnUserSimple2(loginname,loginpassword,unencrypted,remeber,callback){$j.getJSON("http://www.yododo.cn/go/app/cn/ajaxHotelLogin.ydd?callback=?",{"ajaxloginemail":loginname,"ajaxloginpassword":loginpassword,"unencrypted":unencrypted,"rememberMe":remeber},function(json){if(callback){callback();}});}
function getBackofficeEventPrice(params,targetId){new Ajax.Updater(targetId,"/event/getLinePrice.ydd",{method:"get",parameters:params,noWaitMsg:true,onComplete:_getBackofficeEventPriceComplete});}
function _getBackofficeEventPriceComplete(reciver,response){var dateStr=$('selectedDate').value;var containerBox=$('td-'+dateStr);if(containerBox!=null&&typeof containerBox!="undefined"){containerBox.className='price-box-selected';}}
function getEventPriceVersion(params,targetId,version){new Ajax.Updater(targetId,"/event/getLinePrice.ydd?version="+version,{method:"get",parameters:params,noWaitMsg:true,onComplete:_getEventPriceComplete});}
function getEventPrice(params,targetId){new Ajax.Updater(targetId,"/event/getLinePrice.ydd",{method:"get",parameters:params,noWaitMsg:true,onComplete:_getEventPriceComplete});}
function _getEventPriceComplete(reciver,response){var srcOptions=document.getElementById('block-curdate');var targetOptions=document.getElementById('curdate');if(srcOptions!=null&&srcOptions.length>0){$j('#booking-form').show();$j('#booking-alert').hide();for(var i=0;i<targetOptions.length;i++){targetOptions.remove(i);}
for(var j=0;j<srcOptions.length;j++){targetOptions[j]=new Option(srcOptions[j].text,srcOptions[j].value);}}
else if(targetOptions!=null&&targetOptions.length>0){$j('#booking-form').show();$j('#booking-alert').hide();}
else{$j('#booking-form').hide();$j('#booking-alert').show();}
$j('#route-calendar-div .booking-box-mod a.route-price-box').click(function(event){$j('#route-calendar-div .booking-box-mod').css({'z-index':'0'});$j('#route-calendar-div .booking-box').hide();$j(this).parent('.booking-box-mod').css({'z-index':'99'});$j(this).parent('.booking-box-mod').children('.booking-box').show();event.stopPropagation();});$j('#route-calendar-div .booking-box').click(function(event){event.stopPropagation();});$j('#event-price .booking-box-mod a.route-price-box').click(function(event){$j('#event-price .booking-box-mod').css({'z-index':'0'});$j('#event-price .booking-box').hide();$j(this).parent().parent('.booking-box-mod').css({'z-index':'99'});$j(this).parent().parent('.booking-box-mod').children('.booking-box').show();event.stopPropagation();});$j('#event-price .booking-box').click(function(event){event.stopPropagation();});}
function showChinaFootstep(){Element.hide("world-footstep");Element.show("china-footstep");Element.removeClassName("worldLink","active");Element.addClassName("chinaLink","active");}
function showWorldFootstep(){Element.hide("china-footstep");Element.show("world-footstep");Element.removeClassName("chinaLink","active");Element.addClassName("worldLink","active");}
function showTab(itemList,item){try{for(var i=0;i<itemList.length;i++){if(item==itemList[i]){$(item).style.display="block";$(item+"_tab").className="current";}
else{$(itemList[i]).style.display="none";$(itemList[i]+"_tab").className="";}}}
catch(e){}}
function showTab2(itemList,item){try{for(var i=0;i<itemList.length;i++){if(item==itemList[i]){$(item).style.display="block";$(item+"_tab").className="active";}
else{$(itemList[i]).style.display="none";$(itemList[i]+"_tab").className="";}}}
catch(e){}}
function showTabs(tabHeadId,tabContentId){var tabDiv=document.getElementById("tabs");var tabContents=tabDiv.childNodes;for(var i=0;i<tabContents.length;i++){if(tabContents[i].id!=null&&tabContents[i].id!='tabsHead'){tabContents[i].style.display='none';}}
document.getElementById(tabContentId).style.display='block';var tabHeads=document.getElementById('tabsHead').getElementsByTagName('a');for(i=0;i<tabHeads.length;i++){tabHeads[i].className='tabs';}
document.getElementById(tabHeadId).className='active';document.getElementById(tabHeadId).blur();}
function checkAll(name){var el=document.getElementsByTagName('input');var len=el.length;for(var i=0;i<len;i++){if((el[i].type=="checkbox")&&(el[i].name==name)){el[i].checked=true;$(el[i].id+'-box').addClassName('selected');}}
el=null;}
function clearAll(name){var el=document.getElementsByTagName('input');var len=el.length;for(var i=0;i<len;i++){if((el[i].type=="checkbox")&&(el[i].name==name)){el[i].checked=false;$(el[i].id+'-box').removeClassName('selected');}}
el=null;}
function switchAll(input,name){if(!input.checked){clearAll(name);}
else{checkAll(name);}}
function toggleBox(input,self){if(self){input.checked=!input.checked;return;}
if(!input.checked){input.checked=true;$(input.id+'-box').addClassName('selected');}
else{input.checked=false;$(input.id+'-box').removeClassName('selected');}}
function quote(id){var time=id+"-time";var name=id+"-name";var content=id+"-content";var contentText=$(content).innerHTML.replace(/<[^>]*hide[^>]*>.*<\/[^>]+>/gi,'').replace(/<[^>]*quote-content[^>]*>.*<\/div>/gi,'');var quote='<div class="quote-box">';quote=quote+'<div class="quote-content"><strong>引用:</strong> <i>原帖由 '+$(name).innerHTML+' 于 '+$(time).innerHTML+' 发表</i><br/>'+contentText.stripScripts().stripTags()+'</div></div>';quote=quote+'<br/>';setTimeout(function(){g_oEditor.setContent(quote);g_oEditor.focus(true);},100);}
function reply(id){var number=id+"-number";var name=id+"-name";var reply='【回复 <b>'+$(number).innerHTML+' '+$(name).innerHTML+'</b> 的帖子】：';setTimeout(function(){g_oEditor.setContent(reply);g_oEditor.focus(true);},100);}
function addSessionDraft(params){new Ajax.Request("/site/addSessionDraft.ydd",{method:'post',noWaitMsg:true,parameters:params});}
function addDraft(params,targetId){new Ajax.Updater(targetId,"/site/addDraft.ydd",{method:'post',parameters:params,noWaitMsg:true,onComplete:_addDraftComplete});}
function _addDraftComplete(){if($('block-container')!=''&&$('block-container')!=null){if($('block-container').innerHTML!=''){$('draft-container').innerHTML=$('block-container').innerHTML;}
setTimeout(function(){Windows.close('waitMessageWin');},1000);}}
function clearDraft(params,targetId){new Ajax.Updater(targetId,"/site/clearDraft.ydd",{method:'post',parameters:params,noWaitMsg:true,onComplete:_clearDraftComplete});}
function _clearDraftComplete(){$('draft-container').innerHTML='';}
function loadDraft(params,targetId){new Ajax.Updater(targetId,"/site/loadDraft.ydd",{method:'post',noWaitMsg:true,parameters:params,onComplete:_loadDraftComplete});try{_gaq.push(['_trackPageview','/site/loadDraft.ydd']);_hmt.push(['_trackPageview','/site/loadDraft.ydd']);}catch(ee){}}
function _loadDraftComplete(){$('userDraftId').value=$('block-draftid').value;var contentStr=$('draftContent').value;var oEditor=UE.getEditor('contentId');setTimeout(function(){try{oEditor.setContent(contentStr);}catch(e){}},500);setTimeout(function(){Windows.close('waitMessageWin');},1000);}
function report_photo(params,targetId){params=params+"&t="+Math.random();new Ajax.Updater(targetId,"/events/photo.ydd",{method:"get",parameters:params});}
function report_photo_domain(params,targetId,domain){params=params+"&t="+Math.random();new Ajax.Updater(targetId,domain+"/events/photo.ydd",{method:"get",parameters:params});}
function report_video(params,targetId){new Ajax.Updater(targetId,"/events/video.ydd",{method:"get",parameters:params});}
function report_topic(params,targetId){new Ajax.Updater(targetId,"/events/topic.ydd",{method:"get",parameters:params});}
function report_blog(params,targetId){params=params+"&t="+Math.random();new Ajax.Updater(targetId,"/events/blog.ydd",{method:"get",parameters:params});}
function report_reply(params,targetId){params=params+"&t="+Math.random();new Ajax.Updater(targetId,"/events/reply.ydd",{method:"get",parameters:params});try{_gaq.push(['_trackPageview','/events/reply.ydd']);_hmt.push(['_trackPageview','/events/reply.ydd']);}catch(ee){}}
function report_reply_domain(params,targetId,domain){new Ajax.Updater(targetId,domain+"/events/reply.ydd",{method:"get",parameters:params});try{_gaq.push(['_trackPageview','/events/reply.ydd']);_hmt.push(['_trackPageview','/events/reply.ydd']);}catch(ee){}}
function addEventReply(targetId,form){var params=Form.serialize(form);new Ajax.Updater(targetId,"/events/addEventReply.ydd",{method:"get",noWaitMsg:true,parameters:params});try{_gaq.push(['_trackPageview','/events/addEventReply.ydd']);_hmt.push(['_trackPageview','/events/addEventReply.ydd']);}catch(ee){}}
function deletEventReply(params,targetId){new Ajax.Updater(targetId,"/group/deleteReply.ydd",{method:"get",noWaitMsg:true,parameters:params});try{_gaq.push(['_trackPageview','/group/deleteReply.ydd']);_hmt.push(['_trackPageview','/group/deleteReply.ydd']);}catch(ee){}}
function nextReplyPage(link){var targetId="tp-reply";if(typeof(link)=='object'){var action=link.action;var pageNo=link.pageNo.value;link=action+"&pageNo="+pageNo;}
var index=link.indexOf("?");var url=link.substr(0,index);var queryString=link.substr(index+1)+"&t="+Math.random();new Ajax.Updater(targetId,url,{method:"get",noWaitMsg:true,parameters:queryString});}
var g_eventsSurveyWin=null;function report_survey(){g_eventsSurveyWin=new Window('eventsSurveyWindow',{title:"申领免费礼品！",className:"alphacube",width:350,height:280,zIndex:800,resizable:false,minimizable:false,maximizable:false,showEffectOptions:{duration:0.3},hideEffect:Element.hide,destroyOnClose:true,onShow:function(){$("overlay_modal").onclick=function(){g_eventsSurveyWin.close();}}});var params="";g_eventsSurveyWin.setAjaxContent("/events/survey.ydd?t="+Math.random(),{method:"get",parameters:params},true,true);}
function submitUserSurvey(form){if(g_eventsSurveyWin){if(isValidForm(form)){var params=Form.serialize(form);Windows.removeModalWindow(g_eventsSurveyWin);g_eventsSurveyWin.setAjaxContent("/events/survey.ydd?submit=1&t="+Math.random(),{method:"post",parameters:params},true,true);}}}
function updateUserPref(params){new Ajax.Request("/user/updatePref.ydd",{method:'post',parameters:params});}
function saveQplusId(params){new Ajax.Request("/qplus/saveQplusId.ydd",{method:'post',parameters:params});}
function getZodiac(yyyy){var arr=['猴','鸡','狗','猪','鼠','牛','虎','兔','龙','蛇','马','羊'];return/^\d{4}$/.test(yyyy)?arr[yyyy%12]:null;}
function getAge(yyyy){var age=(new Date()).getFullYear()-yyyy;return(age>0)?age:0;}
function getConstellation(month,day){var d=new Date(1999,month-1,day,0,0,0);var arr=[];arr.push(["魔羯座",new Date(1999,0,1,0,0,0)]);arr.push(["水瓶座",new Date(1999,0,20,0,0,0)]);arr.push(["双鱼座",new Date(1999,1,19,0,0,0)]);arr.push(["白羊座",new Date(1999,2,21,0,0,0)]);arr.push(["金牛座",new Date(1999,3,21,0,0,0)]);arr.push(["双子座",new Date(1999,4,21,0,0,0)]);arr.push(["巨蟹座",new Date(1999,5,22,0,0,0)]);arr.push(["狮子座",new Date(1999,6,23,0,0,0)]);arr.push(["处女座",new Date(1999,7,23,0,0,0)]);arr.push(["天秤座",new Date(1999,8,23,0,0,0)]);arr.push(["天蝎座",new Date(1999,9,23,0,0,0)]);arr.push(["射手座",new Date(1999,10,22,0,0,0)]);arr.push(["魔羯座",new Date(1999,11,22,0,0,0)]);for(var i=arr.length-1;i>=0;i--){if(d>=arr[i][1])return arr[i][0];}
return null;}
function attachContent(link,contentId){var bWarn=(contentId==null);var contentStr;if(bWarn){try{contentStr=g_oEditor.getContent().stripTags();}catch(e){contentStr="";}
if(contentStr!=""&&!confirm("请注意，如果切换成普通编辑器，所编写内容的格式信息将会丢失！")){return false;}}
else{contentStr=document.getElementById(contentId).value;}
var theForm=document.getElementById('attachContentForm');if(!theForm){theForm=document.createElement('FORM');theForm.method='POST';theForm.name='attachContentForm';theForm.id=theForm.name;theForm.style.display='none';theForm.action=link.href;document.body.appendChild(theForm);}
theForm.innerHTML='';var input=document.createElement('INPUT');input.type='hidden';input.name='htmlData';input.value=contentStr;theForm.appendChild(input);theForm.submit();return false;}
function ajaxAddFriend(name){$j.ajax({url:'/user/ajaxAddFriend.ydd',type:'POST',data:'name='+name,timeout:2000,success:function(msg){if(msg!='error'){document.getElementById('ajaxChangeFriendSta_'+name).innerHTML=msg;}}});try{_gaq.push(['_trackPageview','/user/ajaxAddFriend.ydd']);_hmt.push(['_trackPageview','/user/ajaxAddFriend.ydd']);}catch(ee){}}
function ajaxDeleteFriend(name){$j.ajax({url:'/user/ajaxDeleteFriend.ydd',type:'POST',data:'name='+name,timeout:2000,success:function(msg){if(msg!='error'){document.getElementById('ajaxChangeFriendSta_'+name).innerHTML=msg;}}});try{_gaq.push(['_trackPageview','/user/ajaxDeleteFriend.ydd']);_hmt.push(['_trackPageview','/user/ajaxDeleteFriend.ydd']);}catch(ee){}}
var _salt=null;function browserChk(key){_salt=$j().crypt({method:"md5",source:key});}
var adPositions=new Array;function opx_writeAdDiv(name,ad_width,ad_height){document.write('<div class="opx_banner" id="'+name+'" style="width:'+ad_width+'px; height:'+ad_height+'px; line-height:'+ad_height+'px;">&nbsp;</div>');adPositions.push(name);}
function OpenX_findPosX(obj){var curleft=0;if(obj.offsetParent){while(obj.offsetParent){curleft+=obj.offsetLeft;obj=obj.offsetParent;}}else if(obj.x){curleft+=obj.x;}
return curleft;}
function OpenX_findPosY(obj){var curtop=0;if(obj.offsetParent){while(obj.offsetParent){curtop+=obj.offsetTop;obj=obj.offsetParent;}}else if(obj.y){curtop+=obj.y;}
return curtop;}
function OpenX_moveAbove(sourceObj,targetObj){var height=0;if(sourceObj.offsetHeight){height=sourceObj.offsetHeight;}else if(sourceObj.clip&&sourceObj.clip.height){height=sourceObj.clip.height;}else if(sourceObj.style&&sourceObj.style.pixelHeight){height=sourceObj.style.pixelHeight;}
if(window.XMLHttpRequest){if(document.all){}else{targetObj.style.paddingTop=0;targetObj.style.paddingBottom=0;}}else{}
if(height>0){targetObj.style.height=height;}
sourceObj.style.left=OpenX_findPosX(targetObj)+'px';sourceObj.style.top=OpenX_findPosY(targetObj)+'px';}
function OpenX_positionDivs(){for(var i=0;i<adPositions.size();i++){var zoneName=adPositions[i];var offScreenZoneName=zoneName+'-hidden';var targetZoneDivID,sourceZoneDivID;if(document.getElementById){targetZoneDivID=document.getElementById(zoneName);sourceZoneDivID=document.getElementById(offScreenZoneName);}else if(document.all){targetZoneDivID=document.all[zoneName];sourceZoneDivID=document.all[offScreenZoneName];}else if(document.layers){targetZoneDivID=document.layers[zoneName];sourceZoneDivID=document.layers[offScreenZoneName];}
if((targetZoneDivID!=null)&&(sourceZoneDivID!=null)){OpenX_moveAbove(sourceZoneDivID,targetZoneDivID);if((sourceZoneDivID.childNodes.length==1&&sourceZoneDivID.childNodes[0].tagName=="SCRIPT")||(sourceZoneDivID.childNodes.length==3&&sourceZoneDivID.childNodes[1].tagName=="SCRIPT")){targetZoneDivID.style.display="none";}}}}
function OpenX_RepositionAd(){for(var i=0;i<adPositions.size();i++){var zoneName=adPositions[i];var offScreenZoneName=zoneName+'-hidden';var targetZoneDivID,sourceZoneDivID;if(document.getElementById){targetZoneDivID=document.getElementById(zoneName);sourceZoneDivID=document.getElementById(offScreenZoneName);}else if(document.all){targetZoneDivID=document.all[zoneName];sourceZoneDivID=document.all[offScreenZoneName];}else if(document.layers){targetZoneDivID=document.layers[zoneName];sourceZoneDivID=document.layers[offScreenZoneName];}
if((targetZoneDivID!=null)&&(sourceZoneDivID!=null)){sourceZoneDivID.style.left=OpenX_findPosX(targetZoneDivID)+'px';sourceZoneDivID.style.top=OpenX_findPosY(targetZoneDivID)+'px';}}}
window.onresize=function(){OpenX_RepositionAd();}
function getRdHref(){var rd=location.href.replace(/(\?|\&)checkLogin=true/g,"");if(rd.indexOf('/user/login.ydd')>0){if(rd.indexOf('.com')>0){rd="http://www.yododo.com/";}
rd="http://www.yododo.cn/";}
return encodeURIComponent(rd);}
function isInChina(pid){var res=false;if(pid.startsWith("1-01")){res=true;}
return res;}
function isInEurope(pid){var res=false;if(pid.startsWith("2")){res=true;}
return res;}
function yddLoginHref(url,target){if(!$j.loginstatus){showPopupLogin(true);return false;}else{if(target){window.open(url);}else{window.location.href=url;}
return false;}}
function yddChecklogin(){if(!$j.loginstatus){return false;}
return true;}
function yddAnimateGoto(targetid,offset,time){var pos=$j("#"+targetid).offset().top;$j("html,body").animate({scrollTop:pos-offset},time);}
function isValidForm(_1){var _2=true;var _3=_1.className;var _4=Form.getElements(_1);var _5=new Array();var _6=new Array();for(var i=0;i<_4.length;i++){var _8=_4[i];if(ELEMENT_TYPE_WITH_ERR_MSG.include(_8.type)){var _9=getErrMsgDIV(_8);if(!_9){break;}var _a=_8.value.strip();if(isRequired(_3,_8)&&_a.length==0){_9.innerHTML="\u8fd9\u662f\u5fc5\u586b\u9879, \u522b\u5fd8\u4e86\u54e6!";}else{if(_a.length>0){var _b=_8.className;if(/intType/i.test(_b)){_9.innerHTML=validateInteger(_a);}else{if(/numericType/i.test(_b)){_9.innerHTML=validateNumeric(_a);}else{if(/dateType/i.test(_b)){_9.innerHTML=validateDate(_a);}else{if(/emailType/i.test(_b)){_9.innerHTML=validateEmail(_a);}else{if(/emailsType/i.test(_b)){_9.innerHTML=validateEmails(_a);}else{if(/phoneType/i.test(_b)){_9.innerHTML=validatePhone(_a);}else{if(/mobileType/i.test(_b)){_9.innerHTML=validateMobile(_a);}else{if(/webType/i.test(_b)){_9.innerHTML=validateWeb(_a);}else{_9.innerHTML="";}}}}}}}}}else{_9.innerHTML="";}}if(_9.innerHTML.length>0){Element.show(_9);_2=false;}else{Element.hide(_9);}}else{if(_8.type=="radio"){if(!_6.include(_8.name)){_6.push(_8.name);try{_5.push(eval("_1."+_8.name));}catch(e){}}}}}_4=null;$A(_5).each(function(_c){var _d=(_c[0]?_c[0]:_c);if(isRequired(_3,_d)){var _e=getErrMsgDIV(_d);var _f=false;if(_c[0]){$A(_c).each(function(_10){if(_10.checked){_f=true;}});}else{if(_c.checked){_f=true;}}if(_e){if(!_f){Element.show(_e);_e.innerHTML="\u8fd9\u662f\u5fc5\u586b\u9879, \u522b\u5fd8\u4e86\u54e6!";_2=false;}else{Element.hide(_e);}}}});return _2;};function isRequired(_11,_12){if(_11=="normalForm"){return(/required/i.test(_12.parentNode.className));}if(_11=="entryForm"){var _13=findParentElementByName("tr",_12);if(_13){var _14=Element.select(_13,".required");return(_14.length>0);}else{return false;}}};function validateInteger(str){var exp=/^[-]?[\d]+$/;if(!exp.test(str)){return"\u5e94\u8be5\u662f\u6574\u6570\u7c7b\u578b, \u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}return"";};function validateNumeric(str){var _18=15;var _19=10;if(isNaN(str/1)){return"\u6570\u5b57\u7684\u683c\u5f0f\u4e0d\u6b63\u786e, \u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}if(str.indexOf(".")!=-1){if(lenB(str.substring(0,str.indexOf(".")))>_18){return"\u6570\u5b57\u7684\u6574\u6570\u90e8\u5206\u592a\u957f\u4e86, \u4e0d\u53ef\u4ee5\u8d85\u8fc7"+_18+"\u4f4d~";}else{if(lenB(str.substring(str.indexOf(".")+1))>_19){return"\u6570\u5b57\u7684\u5c0f\u6570\u90e8\u5206\u592a\u957f\u4e86, \u4e0d\u53ef\u4ee5\u8d85\u8fc7"+_19+"\u4f4d~";}}}if(lenB(str)>_18){return"\u6570\u5b57\u7684\u6574\u6570\u90e8\u5206\u592a\u957f\u4e86, \u4e0d\u53ef\u4ee5\u8d85\u8fc7"+_18+"\u4f4d~";}return"";};function validateDate(str){if(str.length==10){var re=/^(\d{4})(-)(\d{1,2})\2(\d{1,2})$/;var r=str.match(re);if(r==null){return"\u65e5\u671f\u7684\u7c7b\u578b\u597d\u50cf\u4e0d\u592a\u5bf9, \u5e94\u8be5\u662f YYYY-MM-DD <br/> \u4f8b\u5982 '2006-01-01'";}var d=new Date(r[1],r[3]-1,r[4]);if(!(d.getFullYear()==r[1]&&d.getMonth()==r[3]-1&&d.getDate()==r[4])){return"\u6ca1\u6709\u8fd9\u79cd\u65e5\u671f\u5427\uff1f\u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}}else{return"\u65e5\u671f\u7684\u7c7b\u578b\u597d\u50cf\u4e0d\u592a\u5bf9, \u5e94\u8be5\u662f YYYY-MM-DD <br/> \u4f8b\u5982 '2006-01-01'";}return"";};function validateEmail(str){var _1f=/^([_a-zA-Z0-9-_]{1,})+([.]([_a-zA-Z0-9-_]{1,})+)*@(([_a-zA-Z0-9-]{1,})+\.)+[a-zA-z]{2,4}$/;if(!_1f.test(str)){return"\u90ae\u4ef6\u7684\u683c\u5f0f\u597d\u50cf\u4e0d\u592a\u5bf9, \u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}return"";};function validateEmails(str){var _21="";var _22=str.split(/[;\uFF1B]+/);for(var i=0;i<_22.length;i++){_21=validateEmail(_22[i].strip());if(_21!=""){return _21;}}return _21;};function validatePhone(str){var reg=/^[0-9\s\-()]{6,25}$/;if(!reg.test(str)){return"\u7535\u8bdd\u7684\u683c\u5f0f\u597d\u50cf\u4e0d\u592a\u5bf9, \u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}return"";};function validateMobile(str){var reg=/^(13|15|18|14|17|19)[0-9]{9}$/;if(!reg.test(str)){return"\u624b\u673a\u53f7\u7801\u7684\u683c\u5f0f\u597d\u50cf\u4e0d\u592a\u5bf9, \u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}return"";};function validateWeb(str){var _29=/^http:\/\/.+[.].{2,}$/;if(!_29.test(str)){return"\u7f51\u5740\u7684\u683c\u5f0f\u597d\u50cf\u4e0d\u592a\u5bf9, \u5fc5\u987b\u662f\u4ee5 'http://' \u5f00\u5934, \u8bf7\u91cd\u65b0\u586b\u5199\u4e00\u6b21~";}return"";};function charCounterHandler(_2a,_2b){var _2c=Event.element(_2a);var num=_2b-_2c.value.length;if(num<0){_2c.value=_2c.value.substring(0,_2b);num=0;}var _2e=getErrMsgDIV(_2c);if(_2e){Element.show(_2e);_2e.innerHTML="\u8fd8\u53ef\u4ee5\u5199 "+num+" \u4e2a\u5b57~";}};function calendarHandler(_2f){if(self.gfPop){gfPop.fPop(_2f);}return false;};function calRangeHandler(_30,_31,_32){if(self.gfPop){var sb=gfPop.fParseInput(_31);var _34=false;if(!sb){sb=gfPop.gBegin;}else{if(_30.value.length==0){_30.value=sb[0]+"-"+sb[1]+"-"+sb[2];_34=true;}}var se=gfPop.fParseInput(_32);if(!se){se=gfPop.gEnd;}gfPop.fPopCalendar(_30,[sb,se,se]);if(_34){_30.value="";}}return false;};function calRangeHandlerByElement(_36,_37,_38){if(self.gfPop){if($(_37)&&$(_38)){gfPop.fRangePop(_36,$(_37),$(_38));}else{if($(_38)){gfPop.fBeginPop(_36,$(_38));}else{if($(_37)){gfPop.fEndPop($(_37),_36);}else{gfPop.fPop(_36);}}}}return false;};function radioHandler(_39){var _3a=_39.getElementsByTagName("input")[0];if(_3a.type=="radio"){_3a.checked=true;_3a.focus();}_3a=null;};function getRadioValue(_3b){var _3c=$(_3b);var _3d=findParentElementByName("form",_3c);var _3e=eval("_3d."+_3c.name);var _3f=null;try{$A(_3e).each(function(_40){if(_40.checked){_3f=_40.value;}});}catch(e){}if(_3f==null){try{setRadioValue(_3b,_3e.value);_3f=_3e.value;}catch(ee){}}return _3f;};function setRadioValue(_41,_42){var _43=$(_41);var _44=findParentElementByName("form",_43);var _45=eval("_44."+_43.name);try{$A(_45).each(function(_46){if(_46.value==_42){_46.checked=true;}});}catch(e){}if(typeof _45.length=="undefined"){try{_45.checked=true;}catch(ee){}}};function writeErrMsg(_47,_48){var _49=getErrMsgDIV($(_47));if(_49){_49.innerHTML=_48;if(_48.trim().length>0){Element.show(_49);}else{Element.hide(_49);}}};function writeErrMsgById(_4a,_4b){var _4c=$(_4a);_4c.innerHTML=_4b;if(_4b.trim().length>0){Element.show(_4c);}else{Element.hide(_4c);}};function clearErrMsg(_4d){try{var _4e=getErrMsgDIV($(_4d));if(_4e){_4e.innerHTML="";Element.hide(_4e);}}catch(e){}};function clearErrMsgById(_4f){try{var _50=$(_4f);_50.innerHTML="";Element.hide(_50);}catch(e){}};function getErrMsgDIV(_51){var _52=$(_51.id+"-errMsg");if(!_52&&!_51._cke_expando){}return _52;};function attachCalControl(){if(!$("gToday:contrast")){new Insertion.Top(document.body,"<iframe width='132' height='142' name='gToday:contrast' id='gToday:contrast' src='/js/calendar/calendar.htm' scrolling='no' frameborder='0' style='visibility:visible; z-index:1200; position:absolute; top:-500px; left:-500px;'></iframe>");}};var InlineValidator={_targetId:null,lookup:function(_53,_54,_55){this._targetId=_55;if($F(_54).trim().length==0){$(_55).innerHTML="";$(_55).style.display="none";clearErrMsg(_54);return true;}else{$(_55).innerHTML="";clearErrMsg(_54);}var _56=_53.split("?");var url=_56[0];var _58=_56[1]+$F(_54).trim();new Ajax.Updater(_55,url,{method:"post",parameters:_58,insertion:this._insertLookupResult.bind(this)});return true;},_insertLookupResult:function(_59,_5a){var _5b=this._targetId;_59.style.display="none";setTimeout(function(){_59.innerHTML=_5a;setTimeout(function(){var _5c=Effect.Queues.get(_5b);if(_5c.toArray().length==0){new Effect.SlideDown(_59,{duration:0.5,queue:{position:"end",scope:_5b,limit:1}});}},10);},10);},lookupReturnHandler:function(_5d,_5e){var _5f=(_5e.charCode)?_5e.charCode:((_5e.which)?_5e.which:_5e.keyCode);if(_5f==Event.KEY_RETURN){$(_5d).blur();return false;}return true;}};var BASE64={enKey:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',deKey:new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),encode:function(src){var str=new Array();var ch1,ch2,ch3;var pos=0;while(pos+3<=src.length){ch1=src.charCodeAt(pos++);ch2=src.charCodeAt(pos++);ch3=src.charCodeAt(pos++);str.push(this.enKey.charAt(ch1>>2),this.enKey.charAt(((ch1<<4)+(ch2>>4))&0x3f));str.push(this.enKey.charAt(((ch2<<2)+(ch3>>6))&0x3f),this.enKey.charAt(ch3&0x3f));}
if(pos<src.length){ch1=src.charCodeAt(pos++);str.push(this.enKey.charAt(ch1>>2));if(pos<src.length){ch2=src.charCodeAt(pos);str.push(this.enKey.charAt(((ch1<<4)+(ch2>>4))&0x3f));str.push(this.enKey.charAt(ch2<<2&0x3f),'=');}else{str.push(this.enKey.charAt(ch1<<4&0x3f),'==');}}
return str.join('');},decode:function(src){var str=new Array();var ch1,ch2,ch3,ch4;var pos=0;src=src.replace(/[^A-Za-z0-9\+\/]/g,'');while(pos+4<=src.length){ch1=this.deKey[src.charCodeAt(pos++)];ch2=this.deKey[src.charCodeAt(pos++)];ch3=this.deKey[src.charCodeAt(pos++)];ch4=this.deKey[src.charCodeAt(pos++)];str.push(String.fromCharCode((ch1<<2&0xff)+(ch2>>4),(ch2<<4&0xff)+(ch3>>2),(ch3<<6&0xff)+ch4));}
if(pos+1<src.length){ch1=this.deKey[src.charCodeAt(pos++)];ch2=this.deKey[src.charCodeAt(pos++)];if(pos<src.length){ch3=this.deKey[src.charCodeAt(pos)];str.push(String.fromCharCode((ch1<<2&0xff)+(ch2>>4),(ch2<<4&0xff)+(ch3>>2)));}else{str.push(String.fromCharCode((ch1<<2&0xff)+(ch2>>4)));}}
return str.join('');}};