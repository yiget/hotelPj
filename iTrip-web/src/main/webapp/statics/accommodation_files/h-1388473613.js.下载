;var DateUtil=(function(){function format(date,fmt){var o={"M+":date.getMonth()+1,"d+":date.getDate(),"h+":date.getHours(),"m+":date.getMinutes(),"s+":date.getSeconds(),"q+":Math.floor((date.getMonth()+3)/3),"S":date.getMilliseconds()};if(/(y+)/.test(fmt))fmt=fmt.replace(RegExp.$1,(date.getFullYear()+"").substr(4-RegExp.$1.length));for(var k in o)
if(new RegExp("("+k+")").test(fmt))fmt=fmt.replace(RegExp.$1,(RegExp.$1.length==1)?(o[k]):(("00"+o[k]).substr((""+o[k]).length)));return fmt;}
function addDate(strInterval,Number,dtTmp){var dtTmp=dtTmp||new Date();switch(strInterval){case's':return new Date(Date.parse(dtTmp)+(1000*Number));case'n':return new Date(Date.parse(dtTmp)+(60000*Number));case'h':return new Date(Date.parse(dtTmp)+(3600000*Number));case'd':return new Date(Date.parse(dtTmp)+(86400000*Number));case'w':return new Date(Date.parse(dtTmp)+((86400000*7)*Number));case'q':return new Date(dtTmp.getFullYear(),(dtTmp.getMonth())+Number*3,dtTmp.getDate(),dtTmp.getHours(),dtTmp.getMinutes(),dtTmp.getSeconds());case'm':return new Date(dtTmp.getFullYear(),(dtTmp.getMonth())+Number,dtTmp.getDate(),dtTmp.getHours(),dtTmp.getMinutes(),dtTmp.getSeconds());case'y':return new Date((dtTmp.getFullYear()+Number),dtTmp.getMonth(),dtTmp.getDate(),dtTmp.getHours(),dtTmp.getMinutes(),dtTmp.getSeconds());}}
function diffDays(date1,date2){return(date2.getTime()-date1.getTime())/(24*60*60*1000);}
function getDays(dt,start,end){var dt=dt||new Date(),_dates=[];for(var i=start;i<end;i++){_dates.push(addDate('d',i,dt));}
return _dates;}
return{format:format,addDate:addDate,diffDays:diffDays,getDays:getDays}})();Date.prototype.format=function(fmt){return DateUtil.format(this,fmt)};function _datepickerGetStringTrim(objid){var obj=document.getElementById(objid);if(typeof obj!='undefind'&&obj!=null){var val=$j("#"+objid).attr("value");return val.trim();}else{return"";}};(function($j){$j.fn.YododoDatePicker=function(options){var defaults={factor:1,limitFactor:90,endtimeId:'endtime'};if(options){options=$j.extend(defaults,options);}
if(!options.endtimeLimitFactor){options.endtimeLimitFactor=options.limitFactor+15;}
var today=new Date();today=new Date(today.getTime()+1000*60*60*24*options.factor);var todayStr=""+today.getFullYear()+"-"+(today.getMonth()+1)+"-"+today.getDate();var limitDate=new Date(today.getTime()+1000*60*60*24*options.limitFactor);var limitDateStr=""+limitDate.getFullYear()+"-"+(limitDate.getMonth()+1)+"-"+limitDate.getDate();var endMin,endMinStr;if(options.endtimeFactor){endMin=new Date();endMinStr=todayStr;}else{endMin=today;endMinStr=todayStr;}
var endLimitDate=new Date(endMin.getTime()+1000*60*60*24*options.endtimeLimitFactor);var endLimitDateStr=""+endLimitDate.getFullYear()+"-"+(endLimitDate.getMonth()+1)+"-"+endLimitDate.getDate();var startdates=$j(this).datepicker({dateFormat:'yy-mm-dd',monthNames:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],dayNamesMin:['日','一','二','三','四','五','六'],minDate:todayStr,maxDate:limitDateStr,showAnim:"",numberOfMonths:2,onSelect:function(selectedDate){var instance=$j(this).data("datepicker");var date=$j.datepicker.parseDate(instance.settings.dateFormat||$j.datepicker._defaults.dateFormat,selectedDate,instance.settings);var minDate=new Date(date.getTime());minDate.setDate(date.getDate()+1);enddates.not(this).datepicker("option","minDate",minDate);var maxDate=new Date(date.getTime());maxDate.setDate(date.getDate()+15);maxDate=endLimitDate.getTime()>maxDate.getTime()?maxDate:endLimitDate;enddates.not(this).datepicker("option","maxDate",maxDate);if(options.autoSetEndDate){var endSelectedDate=new Date(date.getTime());endSelectedDate.setDate(date.getDate()+options.autoSetEndDate);$j("#"+options.endtimeId).val(endSelectedDate.format("yyyy-MM-dd"));}else{window.setTimeout(function(){$j("#"+options.endtimeId).focus();},100);}}});var enddates=$j("#"+options.endtimeId).datepicker({dateFormat:'yy-mm-dd',monthNames:['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],dayNamesMin:['日','一','二','三','四','五','六'],minDate:endMinStr,maxDate:endLimitDateStr,showAnim:"",numberOfMonths:2});var startdate=$j.datepicker.parseDate('yy-mm-dd',$j(this).val());if(startdate){var minDate=new Date(startdate.getTime());minDate.setDate(startdate.getDate()+1);enddates.datepicker("option","minDate",minDate);var maxDate=new Date(startdate.getTime());maxDate.setDate(startdate.getDate()+15);maxDate=endLimitDate.getTime()>maxDate.getTime()?maxDate:endLimitDate;enddates.datepicker("option","maxDate",maxDate);}};})(jQuery);;(function(){"use strict";function setup($){$.fn._fadeIn=$.fn.fadeIn;var A=$.noop||function(){};var B=/MSIE/.test(navigator.userAgent);var C=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var D=document.documentMode||0;var E=$.isFunction(document.createElement('div').style.setExpression);$.blockUI=function(a){install(window,a)};$.unblockUI=function(a){remove(window,a)};$.growlUI=function(a,b,c,d){var e=$('<div class="growlUI"></div>');if(a)e.append('<h1>'+a+'</h1>');if(b)e.append('<h2>'+b+'</h2>');if(c===undefined)c=3000;$.blockUI({message:e,fadeIn:700,fadeOut:1000,centerY:false,timeout:c,showOverlay:false,onUnblock:d,css:$.blockUI.defaults.growlCSS})};$.fn.block=function(b){if(this[0]===window){$.blockUI(b);return this}var c=$.extend({},$.blockUI.defaults,b||{});this.each(function(){var a=$(this);if(c.ignoreIfBlocked&&a.data('blockUI.isBlocked'))return;a.unblock({fadeOut:0})});return this.each(function(){if($.css(this,'position')=='static'){this.style.position='relative';$(this).data('blockUI.static',true)}this.style.zoom=1;install(this,b)})};$.fn.unblock=function(a){if(this[0]===window){$.unblockUI(a);return this}return this.each(function(){remove(this,a)})};$.blockUI.version=2.60;$.blockUI.defaults={message:'<h1>Please wait...</h1>',title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:'30%',top:'40%',left:'35%',textAlign:'center',color:'#000',border:'3px solid #aaa',backgroundColor:'#fff',cursor:'wait'},themedCSS:{width:'30%',top:'40%',left:'35%'},overlayCSS:{backgroundColor:'#000',opacity:0.6,cursor:'wait'},cursorReset:'default',growlCSS:{width:'350px',top:'10px',left:'',right:'10px',border:'none',padding:'5px',opacity:0.6,cursor:'default',color:'#fff',backgroundColor:'#000','-webkit-border-radius':'10px','-moz-border-radius':'10px','border-radius':'10px'},iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank',forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:':input:enabled:visible',onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:'blockMsg',ignoreIfBlocked:false};var F=null;var G=[];function install(c,d){var e,themedCSS;var f=(c==window);var g=(d&&d.message!==undefined?d.message:undefined);d=$.extend({},$.blockUI.defaults,d||{});if(d.ignoreIfBlocked&&$(c).data('blockUI.isBlocked'))return;d.overlayCSS=$.extend({},$.blockUI.defaults.overlayCSS,d.overlayCSS||{});e=$.extend({},$.blockUI.defaults.css,d.css||{});if(d.onOverlayClick)d.overlayCSS.cursor='pointer';themedCSS=$.extend({},$.blockUI.defaults.themedCSS,d.themedCSS||{});g=g===undefined?d.message:g;if(f&&F)remove(window,{fadeOut:0});if(g&&typeof g!='string'&&(g.parentNode||g.jquery)){var h=g.jquery?g[0]:g;var j={};$(c).data('blockUI.history',j);j.el=h;j.parent=h.parentNode;j.display=h.style.display;j.position=h.style.position;if(j.parent)j.parent.removeChild(h)}$(c).data('blockUI.onUnblock',d.onUnblock);var z=d.baseZ;var k,lyr2,lyr3,s;if(B||d.forceIframe)k=$('<iframe class="blockUI" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+d.iframeSrc+'"></iframe>');else k=$('<div class="blockUI" style="display:none"></div>');if(d.theme)lyr2=$('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(z++)+';display:none"></div>');else lyr2=$('<div class="blockUI blockOverlay" style="z-index:'+(z++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');if(d.theme&&f){s='<div class="blockUI '+d.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:fixed">';if(d.title){s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||'&nbsp;')+'</div>'}s+='<div class="ui-widget-content ui-dialog-content"></div>';s+='</div>'}else if(d.theme){s='<div class="blockUI '+d.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(z+10)+';display:none;position:absolute">';if(d.title){s+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(d.title||'&nbsp;')+'</div>'}s+='<div class="ui-widget-content ui-dialog-content"></div>';s+='</div>'}else if(f){s='<div class="blockUI '+d.blockMsgClass+' blockPage" style="z-index:'+(z+10)+';display:none;position:fixed"></div>'}else{s='<div class="blockUI '+d.blockMsgClass+' blockElement" style="z-index:'+(z+10)+';display:none;position:absolute"></div>'}lyr3=$(s);if(g){if(d.theme){lyr3.css(themedCSS);lyr3.addClass('ui-widget-content')}else lyr3.css(e)}if(!d.theme)lyr2.css(d.overlayCSS);lyr2.css('position',f?'fixed':'absolute');if(B||d.forceIframe)k.css('opacity',0.0);var m=[k,lyr2,lyr3],$par=f?$('body'):$(c);$.each(m,function(){this.appendTo($par)});if(d.theme&&d.draggable&&$.fn.draggable){lyr3.draggable({handle:'.ui-dialog-titlebar',cancel:'li'})}var n=E&&(!$.support.boxModel||$('object,embed',f?null:c).length>0);if(C||n){if(f&&d.allowBodyStretch&&$.support.boxModel)$('html,body').css('height','100%');if((C||!$.support.boxModel)&&!f){var t=sz(c,'borderTopWidth'),l=sz(c,'borderLeftWidth');var p=t?'(0 - '+t+')':0;var q=l?'(0 - '+l+')':0}$.each(m,function(i,o){var s=o[0].style;s.position='absolute';if(i<2){if(f)s.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+d.quirksmodeOffsetHack+') + "px"');else s.setExpression('height','this.parentNode.offsetHeight + "px"');if(f)s.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');else s.setExpression('width','this.parentNode.offsetWidth + "px"');if(q)s.setExpression('left',q);if(p)s.setExpression('top',p)}else if(d.centerY){if(f)s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');s.marginTop=0}else if(!d.centerY&&f){var a=(d.css&&d.css.top)?parseInt(d.css.top,10):0;var b='((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+a+') + "px"';s.setExpression('top',b)}})}if(g){if(d.theme)lyr3.find('.ui-widget-content').append(g);else lyr3.append(g);if(g.jquery||g.nodeType)$(g).show()}if((B||d.forceIframe)&&d.showOverlay)k.show();if(d.fadeIn){var r=d.onBlock?d.onBlock:A;var u=(d.showOverlay&&!g)?r:A;var v=g?r:A;if(d.showOverlay)lyr2._fadeIn(d.fadeIn,u);if(g)lyr3._fadeIn(d.fadeIn,v)}else{if(d.showOverlay)lyr2.show();if(g)lyr3.show();if(d.onBlock)d.onBlock()}bind(1,c,d);if(f){F=lyr3[0];G=$(d.focusableElements,F);if(d.focusInput)setTimeout(focus,20)}else center(lyr3[0],d.centerX,d.centerY);if(d.timeout){var w=setTimeout(function(){if(f)$.unblockUI(d);else $(c).unblock(d)},d.timeout);$(c).data('blockUI.timeout',w)}}function remove(a,b){var c;var d=(a==window);var e=$(a);var f=e.data('blockUI.history');var g=e.data('blockUI.timeout');if(g){clearTimeout(g);e.removeData('blockUI.timeout')}b=$.extend({},$.blockUI.defaults,b||{});bind(0,a,b);if(b.onUnblock===null){b.onUnblock=e.data('blockUI.onUnblock');e.removeData('blockUI.onUnblock')}var h;if(d)h=$('body').children().filter('.blockUI').add('body > .blockUI');else h=e.find('>.blockUI');if(b.cursorReset){if(h.length>1)h[1].style.cursor=b.cursorReset;if(h.length>2)h[2].style.cursor=b.cursorReset}if(d)F=G=null;if(b.fadeOut){c=h.length;h.fadeOut(b.fadeOut,function(){if(--c===0)reset(h,f,b,a)})}else reset(h,f,b,a)}function reset(a,b,c,d){var e=$(d);a.each(function(i,o){if(this.parentNode)this.parentNode.removeChild(this)});if(b&&b.el){b.el.style.display=b.display;b.el.style.position=b.position;if(b.parent)b.parent.appendChild(b.el);e.removeData('blockUI.history')}if(e.data('blockUI.static')){e.css('position','static')}if(typeof c.onUnblock=='function')c.onUnblock(d,c);var f=$(document.body),w=f.width(),cssW=f[0].style.width;f.width(w-1).width(w);f[0].style.width=cssW}function bind(b,a,c){var d=a==window,$el=$(a);if(!b&&(d&&!F||!d&&!$el.data('blockUI.isBlocked')))return;$el.data('blockUI.isBlocked',b);if(!d||!c.bindEvents||(b&&!c.showOverlay))return;var e='mousedown mouseup keydown keypress keyup touchstart touchend touchmove';if(b)$(document).bind(e,c,handler);else $(document).unbind(e,handler)}function handler(e){if(e.keyCode&&e.keyCode==9){if(F&&e.data.constrainTabKey){var a=G;var b=!e.shiftKey&&e.target===a[a.length-1];var c=e.shiftKey&&e.target===a[0];if(b||c){setTimeout(function(){focus(c)},10);return false}}}var d=e.data;var f=$(e.target);if(f.hasClass('blockOverlay')&&d.onOverlayClick)d.onOverlayClick();if(f.parents('div.'+d.blockMsgClass).length>0)return true;return f.parents().children().filter('div.blockUI').length===0}function focus(a){if(!G)return;var e=G[a===true?G.length-1:0];if(e)e.focus()}function center(a,x,y){var p=a.parentNode,s=a.style;var l=((p.offsetWidth-a.offsetWidth)/2)-sz(p,'borderLeftWidth');var t=((p.offsetHeight-a.offsetHeight)/2)-sz(p,'borderTopWidth');if(x)s.left=l>0?(l+'px'):'0';if(y)s.top=t>0?(t+'px'):'0'}function sz(a,p){return parseInt($.css(a,p),10)||0}}if(typeof define==='function'&&define.amd&&define.amd.jQuery){define(['jquery'],setup)}else{setup(jQuery)}})();(function($){$.fn.extend({inputTip:function(_1,_2,_3){_3=$.extend({},$.InputTip.defaults,{tipContent:_1,formId:_2},_3);return this.each(function(){new $.InputTip(this,_3);});}});$.InputTip=function(_4,_5){var _6=$(_4);if(_6.val()!=""&&_6.val()!=_5.tipContent){$(this).css("color",_5.tipFrontColor);}else{_6.val(_5.tipContent);_6.css("color",_5.NormalFrontColor);}_6.focus(function(){if($(this).val()==_5.tipContent){$(this).val("");$(this).css("color",_5.tipFrontColor);}}).blur(function(){if($(this).val()==""){$(this).val(_5.tipContent);$(this).css("color",_5.NormalFrontColor);}});if(_5.formId){$form=$("#"+_5.formId);if($form){$form.submit(function(){if(_6.val()==_5.tipContent){_6.val("");_6.css("color",_5.tipFrontColor);}});}}};$.InputTip.defaults={tipFrontColor:"#000",NormalFrontColor:"#999"};})(jQuery);;(function(a){var b=a(window);a.fn.asynchImageLoader=a.fn.jail=function(d){d=a.extend({timeout:10,effect:false,speed:400,selector:null,offset:0,event:"load+scroll",callback:jQuery.noop,callbackAfterEachImage:jQuery.noop,placeholder:false,ignoreHiddenImages:false},d);var c=this;a.jail.initialStack=this;this.data("triggerEl",(d.selector)?a(d.selector):b);if(d.placeholder!==false){c.each(function(){a(this).attr("src",d.placeholder);});}if(/^load/.test(d.event)){a.asynchImageLoader.later.call(this,d);}else{a.asynchImageLoader.onEvent.call(this,d,c);}return this;};a.asynchImageLoader=a.jail={_purgeStack:function(c){var d=0;while(true){if(d===c.length){break;}else{if(c[d].getAttribute("data-href")){d++;}else{c.splice(d,1);}}}},_loadOnEvent:function(g){var f=a(this),d=g.data.options,c=g.data.images;a.asynchImageLoader._loadImageIfVisible(d,f);f.unbind(d.event,a.asynchImageLoader._loadOnEvent);a.asynchImageLoader._purgeStack(c);if(!!d.callback){a.asynchImageLoader._purgeStack(a.jail.initialStack);a.asynchImageLoader._launchCallback(a.jail.initialStack,d);}},_bufferedEventListener:function(g){var c=g.data.images,d=g.data.options,f=c.data("triggerEl");clearTimeout(c.data("poller"));c.data("poller",setTimeout(function(){c.each(function e(){a.asynchImageLoader._loadImageIfVisible(d,this,f);});a.asynchImageLoader._purgeStack(c);if(!!d.callback){a.asynchImageLoader._purgeStack(a.jail.initialStack);a.asynchImageLoader._launchCallback(a.jail.initialStack,d);}},d.timeout));},onEvent:function(d,c){c=c||this;if(d.event==="scroll"||d.selector){var e=c.data("triggerEl");if(c.length>0){e.bind(d.event,{images:c,options:d},a.asynchImageLoader._bufferedEventListener);if(d.event==="scroll"||!d.selector){b.resize({images:c,options:d},a.asynchImageLoader._bufferedEventListener);}return;}else{if(!!e){e.unbind(d.event,a.asynchImageLoader._bufferedEventListener);}}}else{c.bind(d.event,{options:d,images:c},a.asynchImageLoader._loadOnEvent);}},later:function(d){var c=this;if(d.event==="load"){c.each(function(){a.asynchImageLoader._loadImageIfVisible(d,this,c.data("triggerEl"));});}a.asynchImageLoader._purgeStack(c);a.asynchImageLoader._launchCallback(c,d);setTimeout(function(){if(d.event==="load"){c.each(function(){a.asynchImageLoader._loadImage(d,a(this));});}else{c.each(function(){a.asynchImageLoader._loadImageIfVisible(d,this,c.data("triggerEl"));});}a.asynchImageLoader._purgeStack(c);a.asynchImageLoader._launchCallback(c,d);if(d.event==="load+scroll"){d.event="scroll";a.asynchImageLoader.onEvent(d,c);}},d.timeout);},_launchCallback:function(c,d){if(c.length===0&&!a.jail.isCallback){d.callback.call(this,d);a.jail.isCallback=true;}},_loadImageIfVisible:function(e,h,g){var f=a(h),d=(/scroll/i.test(e.event))?g:b,c=true;if(e.ignoreHiddenImages){c=a.jail._isVisibleInOverflownContainer(f,e)&&f.is(":visible");}if(c&&a.asynchImageLoader._isInTheScreen(d,f,e.offset)){a.asynchImageLoader._loadImage(e,f);}},_isInTheScreen:function(j,c,h){var f=j[0]===window,n=(f?{top:0,left:0}:j.offset()),g=n.top+(f?j.scrollTop():0),i=n.left+(f?j.scrollLeft():0),e=i+j.width(),k=g+j.height(),m=c.offset(),l=c.width(),d=c.height();return(g-h)<=(m.top+d)&&(k+h)>=m.top&&(i-h)<=(m.left+l)&&(e+h)>=m.left;},_loadImage:function(c,d){d.hide();d.attr("src",d.attr("data-href"));d.removeAttr("data-href");if(c.effect){if(c.speed){d[c.effect](c.speed);}else{d[c.effect]();}}else{d.show();}c.callbackAfterEachImage.call(this,d,c);},_isVisibleInOverflownContainer:function(e,d){var f=e.parent(),c=true;while(f.get(0).tagName!=="BODY"){if(f.css("overflow")==="hidden"){if(!a.jail._isInTheScreen(f,e,d.offset)){c=false;break;}}if(f.css("visibility")==="hidden"||e.css("visibility")==="hidden"){c=false;break;}f=f.parent();}return c;}};}(jQuery));